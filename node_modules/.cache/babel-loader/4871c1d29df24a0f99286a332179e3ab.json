{"remainingRequest":"/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/thread-loader/dist/cjs.js!/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/babel-loader/lib/index.js!/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexander/Projects/GitHub/webizing-td-client/src/components/HomeForElderlyMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexander/Projects/GitHub/webizing-td-client/src/components/HomeForElderlyMap.vue","mtime":1605229908474},{"path":"/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/cache-loader/dist/cjs.js","mtime":1570966921308},{"path":"/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/thread-loader/dist/cjs.js","mtime":1570969765657},{"path":"/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/babel-loader/lib/index.js","mtime":1587543893999},{"path":"/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/cache-loader/dist/cjs.js","mtime":1570966921308},{"path":"/Users/alexander/Projects/GitHub/webizing-td-client/node_modules/vue-loader/lib/index.js","mtime":1570969765705}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find-index\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { CRS } from \"leaflet\";\nimport { LMap, LImageOverlay, LMarker, LCircleMarker, LPopup, LIcon } from \"vue2-leaflet\";\nimport image from \"../assets/image.png\";\nimport camera360 from \"../assets/cam360.png\";\nimport camera from \"../assets/Security-Camera-icon.png\";\nimport { elderlyMap, userIcon } from \"./mockForIPCamera\";\nexport default {\n  name: \"HomeForElderlyMap\",\n  components: {\n    LMarker: LMarker,\n    LMap: LMap,\n    LImageOverlay: LImageOverlay,\n    LCircleMarker: LCircleMarker,\n    LPopup: LPopup,\n    LIcon: LIcon\n  },\n  props: {\n    locations: Array //[{name: '', room: '', location: ''}]\n\n  },\n  data: function data() {\n    return {\n      url: image,\n      crs: CRS.Simple,\n      bounds: [[-400, -300], [200, 400]],\n      zoom: 1,\n      center: [-3.006127, 50.045471],\n      currentZoom: 5,\n      staticAnchor: [16, 16],\n      iconSize: [32, 32],\n      camera: camera,\n      camera360: camera360,\n      circle: {\n        center: [47.413220, -1.0482],\n        radius: 6,\n        color: 'red'\n      },\n      cameras: [{\n        name: 'camera1',\n        angle: '180',\n        lng: 128.147278,\n        lat: -72.571782\n      }, {\n        name: 'camera2',\n        angle: '360',\n        lng: 205.464249,\n        lat: -50.743408\n      }, {\n        name: 'camera3',\n        angle: '180',\n        lng: 203.941956,\n        lat: -72.425586\n      }, {\n        name: 'camera4',\n        angle: '360',\n        lng: 205.331726,\n        lat: -79.216906\n      }, {\n        name: 'camera5',\n        angle: '360',\n        lng: 267.794495,\n        lat: -51.392779\n      }, {\n        name: 'camera6',\n        angle: '360',\n        lng: 269.358673,\n        lat: -79.327847\n      }, {\n        name: 'camera7',\n        angle: '360',\n        lng: 329.727173,\n        lat: -51.88624\n      }, {\n        name: 'camera8',\n        angle: '360',\n        lng: 343.866577,\n        lat: -78.971386\n      }, {\n        name: 'camera9',\n        angle: '180',\n        lng: 373.342896,\n        lat: -73.263122 // { name: 'foboo01', lng: 182.190399, lat: -54.440499 },\n        // { name: 'foboo02', lng: 310.624008, lat: -81.045246 }\n\n      }],\n      users: [{\n        name: \"user1\",\n        room: \"room3\"\n      }, {\n        name: \"user2\",\n        room: \"room3\"\n      }, {\n        name: \"user3\",\n        room: \"room3\"\n      }, {\n        name: \"user4\",\n        room: \"room3\"\n      }, {\n        name: \"user5\",\n        room: \"room3\"\n      }]\n    };\n  },\n  created: function created() {\n    setInterval(this.updateMap, 5000);\n  },\n  methods: {\n    zoomUpdated: function zoomUpdated(zoom) {\n      this.currentZoom = zoom;\n    },\n    centerUpdated: function centerUpdated(center) {\n      this.center = center;\n    },\n    onMapClick: function onMapClick(e) {\n      alert(\"You clicked the map at \" + e.latlng);\n    },\n    getAvailableLocation: function getAvailableLocation(room, el) {\n      var roomIndex = el[room].findIndex(function (item) {\n        return item.isAvailable === true;\n      });\n      el[room][roomIndex].isAvailable = false;\n      return el[room][roomIndex].locations;\n    },\n    updateMap: function updateMap() {\n      var arr = [\"room1\", \"room2\", \"room3\", \"room4\", \"room5\", \"hall1\", \"sunroom\"];\n      var tmp = [];\n\n      for (var i = 0; i < this.users.length; i++) {\n        tmp.push({\n          name: this.users[i].name,\n          room: arr[Math.floor(Math.random() * 7)]\n        });\n      }\n\n      this.users = tmp;\n    },\n    jsonCopy: function jsonCopy(src) {\n      return JSON.parse(JSON.stringify(src));\n    } // boundsUpdated (bounds) {\n    //     this.bounds = bounds;\n    // }\n\n  },\n  computed: {\n    mapUserToMap: function mapUserToMap() {\n      var _this = this;\n\n      var el = this.jsonCopy(elderlyMap);\n      return this.users.map(function (item) {\n        var loc = _this.getAvailableLocation(item.room, el);\n\n        return {\n          name: item.name,\n          lat: loc[\"lat\"],\n          lng: loc[\"lng\"],\n          markColor: userIcon[item.name]\n        };\n      });\n    }\n  }\n};",{"version":3,"sources":["HomeForElderlyMap.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n        <div id=\"full_div\">\n            <l-map\n                :fitBounds:=\"bounds\"\n                :crs:=\"crs\"\n                :zoom=\"1\"\n                :center=\"center\"\n                style=\"width: 100%; height: 100%; \"\n                @update:zoom=\"zoomUpdated\"\n                \n            >\n                <l-image-overlay\n                        :url=\"url\"\n                        :bounds=\"bounds\">\n                </l-image-overlay>\n                <l-marker\n                        v-for=\"c in cameras\"\n                        :lat-lng=\"c\"\n                        :key=\"c.name\">\n                    <l-icon\n                            :iconSize=\"iconSize\"\n                            :iconAnchor=\"staticAnchor\"\n                            :iconUrl=\"c.angle == 360? camera360: camera\" >\n<!--                        <div>d</div>-->\n                    </l-icon>\n                </l-marker>\n\n                <l-circle-marker\n                        v-for=\"c in mapUserToMap\"\n                        :lat-lng=\"c\"\n                        :key=\"c.name\"\n                        :radius=\"circle.radius\"\n                        :color=\"c.markColor\"\n                >\n                    <l-popup><span style=\"font-size: 14px\">User Info</span><br><b>name</b>: {{c.name}} </l-popup>\n                </l-circle-marker>\n\n            </l-map>\n    </div>\n\n</template>\n\n<script>\n    import { CRS } from \"leaflet\";\n    import { LMap, LImageOverlay, LMarker, LCircleMarker, LPopup, LIcon } from \"vue2-leaflet\";\n    import image from \"../assets/image.png\"\n    import camera360 from \"../assets/cam360.png\";\n    import camera from \"../assets/Security-Camera-icon.png\";\n\n    import { elderlyMap, userIcon } from \"./mockForIPCamera\";\n\n    export default {\n        name: \"HomeForElderlyMap\",\n        components: {\n            LMarker,\n            LMap,\n            LImageOverlay,\n            LCircleMarker,\n            LPopup,\n            LIcon\n        },\n        props: {\n            locations: Array //[{name: '', room: '', location: ''}]\n        },\n        data() {\n            return {\n                url: image,\n                crs: CRS.Simple,\n                bounds: [[-400, -300], [200, 400]],\n                zoom: 1,\n                center: [-3.006127, 50.045471],\n                currentZoom: 5,\n                staticAnchor: [16, 16],\n                iconSize: [32, 32],\n                camera: camera,\n                camera360: camera360,\n                circle: {\n                    center: [47.413220, -1.0482],\n                    radius: 6,\n                    color: 'red'\n                }, \n                cameras: [\n                    { name: 'camera1', angle: '180', lng: 128.147278, lat: -72.571782 },\n                    { name: 'camera2', angle: '360', lng: 205.464249, lat: -50.743408 },\n                    { name: 'camera3', angle: '180', lng: 203.941956, lat: -72.425586 },\n                    { name: 'camera4', angle: '360', lng: 205.331726, lat: -79.216906},\n                    { name: 'camera5', angle: '360', lng: 267.794495, lat: -51.392779 },\n                    { name: 'camera6', angle: '360', lng: 269.358673, lat: -79.327847 },\n                    { name: 'camera7', angle: '360', lng: 329.727173, lat: -51.88624 },\n                    { name: 'camera8', angle: '360', lng: 343.866577, lat: -78.971386 },\n                    { name: 'camera9', angle: '180', lng: 373.342896, lat: -73.263122 }\n                    // { name: 'foboo01', lng: 182.190399, lat: -54.440499 },\n                    // { name: 'foboo02', lng: 310.624008, lat: -81.045246 }\n                ],\n                users: [{\n                    name: \"user1\",\n                    room: \"room3\"\n                }, {\n                    name: \"user2\",\n                    room: \"room3\"\n                },{\n                    name: \"user3\",\n                    room: \"room3\"\n                },{\n                    name: \"user4\",\n                    room: \"room3\"\n                },{\n                    name: \"user5\",\n                    room: \"room3\"\n                }]\n            };\n        },\n        created() {\n            setInterval(this.updateMap, 5000);\n        },\n        methods: {\n            zoomUpdated (zoom) {\n                this.currentZoom = zoom;\n            },\n            centerUpdated (center) {\n                this.center = center;\n            },\n            onMapClick(e) {\n                alert(\"You clicked the map at \" + e.latlng);\n            },\n            getAvailableLocation(room, el) {\n                let roomIndex = el[room].findIndex(item => item.isAvailable === true);\n                el[room][roomIndex].isAvailable = false;\n                return el[room][roomIndex].locations;\n            },\n            updateMap() {\n                const arr = [\"room1\",\"room2\",\"room3\",\"room4\",\"room5\",\"hall1\",\"sunroom\"];\n                const tmp = [];\n                for (let i =0; i< this.users.length; i++) {\n                    tmp.push({name: this.users[i].name, room: arr[Math.floor(Math.random() * 7)]});\n                }\n                this.users = tmp;\n            },\n            jsonCopy(src) {\n                return JSON.parse(JSON.stringify(src));\n            }\n            // boundsUpdated (bounds) {\n            //     this.bounds = bounds;\n            // }\n        },\n        computed: {\n            mapUserToMap() {\n                const el = this.jsonCopy(elderlyMap);\n\n                return this.users.map(item => {\n                    const loc = this.getAvailableLocation(item.room, el);\n                    return {\n                        name: item.name,\n                        lat: loc[\"lat\"],\n                        lng: loc[\"lng\"],\n                        markColor: userIcon[item.name]\n                    }\n                });\n            }\n        }\n    };\n</script>\n<style scoped>\n    #full_div {\n        display: flex;\n        width: 100%;\n        height: 500px;\n    }\n</style>\n"],"sourceRoot":"src/components"}]}